<html> 
      <head>
        <title>GAP (ref) - Chapter 10: Streams-&gt;10.8-3 ReadAllLine</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap10.html#X7CDF48447E823977"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">10.8-3 ReadAllLine</h5><div class="func" xmlns="http://www.w3.org/1999/xhtml"><table width="100%" class="func"><tbody><tr><td colspan="1" rowspan="1" class="tdleft"><code class="func">‣ ReadAllLine</code>( <var class="Arg">iostream</var>[, <var class="Arg">nofail</var>][, <var class="Arg">IsAllLine</var>] )</td><td colspan="1" rowspan="1" class="tdright">( operation )</td></tr></tbody></table></div><p xmlns="http://www.w3.org/1999/xhtml">For an input/output stream <var class="Arg">iostream</var> <code class="func">ReadAllLine</code> reads until a newline character if any input is found or returns <code class="keyw">fail</code> if no input is found, i.e. if any input is found <code class="func">ReadAllLine</code> is non-blocking.</p><p xmlns="http://www.w3.org/1999/xhtml">If the argument <var class="Arg">nofail</var> (which must be <code class="keyw">false</code> or <code class="keyw">true</code>) is provided and it is set to <code class="keyw">true</code> then <code class="func">ReadAllLine</code> will wait, if necessary, for input and never return <code class="keyw">fail</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">If the argument <var class="Arg">IsAllLine</var> (which must be a function that takes a string argument and returns either <code class="keyw">true</code> or <code class="keyw">false</code>) then it is used to determine what constitutes a whole line. The default behaviour is equivalent to passing the function</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
line -&gt; 0 &lt; Length(line) and line[Length(line)] = '\n'
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">for the <var class="Arg">IsAllLine</var> argument. The purpose of the <var class="Arg">IsAllLine</var> argument is to cater for the case where the input being read is from an external process that writes a &quot;prompt&quot; for data that does not terminate with a newline.</p><p xmlns="http://www.w3.org/1999/xhtml">If the first argument is an input stream but not an input/output stream then <code class="func">ReadAllLine</code> behaves as if <code class="func">ReadLine</code> (<a shape="rect" href="chap10_mj.html#X7D2CA44C7D110C4F"><span class="RefLink">10.3-4</span></a>) was called with just the first argument and any additional arguments are ignored.</p> </body>
    </html>