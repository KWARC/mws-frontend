<html> 
      <head>
        <title>GAP (ref) - Chapter 53: Transformations-&gt;53.5-23 TrimTransformation</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap53.html#X7F19C9C77F9F8981"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">53.5-23 TrimTransformation</h5><div class="func" xmlns="http://www.w3.org/1999/xhtml"><table width="100%" class="func"><tbody><tr><td colspan="1" rowspan="1" class="tdleft"><code class="func">â€£ TrimTransformation</code>( <var class="Arg">f</var>[, <var class="Arg">n</var>] )</td><td colspan="1" rowspan="1" class="tdright">( operation )</td></tr></tbody></table></div><p xmlns="http://www.w3.org/1999/xhtml">Returns: Nothing.</p><p xmlns="http://www.w3.org/1999/xhtml">It can happen that the internal representation of a transformation uses more memory than necessary. For example, this can happen when composing transformations where it is possible that the resulting transformation <var class="Arg">f</var> has belongs to <code class="code">IsTrans4Rep</code> and has its images stored as 32-bit integers, while none of its moved points exceeds 65536. The purpose of <code class="code">TrimTransformation</code> is to change the internal representation of such an <var class="Arg">f</var> to remove the trailing fixed points.</p><p xmlns="http://www.w3.org/1999/xhtml">If the optional second argument <var class="Arg">n</var> is provided, then the internal representation of <var class="Arg">f</var> is reduced to the images of the first <var class="Arg">n</var> positive integers. Please note that it must be the case that <code class="code">i^<var class="Arg">f</var>&lt;=n</code> for all <code class="code">i</code> in the range <code class="code">[1..<var class="Arg">n</var>]</code> otherwise the resulting object will not define a transformation.</p><p xmlns="http://www.w3.org/1999/xhtml">If the optional second argument is not included, then the degree of <var class="Arg">f</var> is used by default.</p><p xmlns="http://www.w3.org/1999/xhtml">The transformation <var class="Arg">f</var> is changed in-place, and nothing is returned by this function.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve"> 
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 1 .. 2^16 ], x-&gt; x+1 );</span>
&lt;transformation on 65537 pts with rank 65536&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=Transformation( [ 1 .. 2^16+1 ], function(x)</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">if x=1 or x=65537 then return x; else return x-1; fi; end);</span>
&lt;transformation on 65536 pts with rank 65535&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">h:=g*f;</span>
Transformation( [ 2, 2 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DegreeOfTransformation(h); IsTrans4Rep(h); MemoryUsage(h);</span>
65537
true
262188
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TrimTransformation(h); h;</span>
Transformation( [ 2, 2 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DegreeOfTransformation(h); IsTrans4Rep(h); MemoryUsage(h);</span>
2
false
44
</pre></div> </body>
    </html>