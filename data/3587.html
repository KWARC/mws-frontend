<html> 
      <head>
        <title>GAP (ref) - Chapter 4: The Programming Language-&gt;4.19 Repeat</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap4.html#X8295CBF47FAA05C9"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">4.19 <span class="Heading">Repeat</span></h4><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">repeat <var class="Arg">statements</var> until <var class="Arg">bool-expr</var>;</code></p><p xmlns="http://www.w3.org/1999/xhtml">The <code class="keyw">repeat</code> loop executes the statement sequence <var class="Arg">statements</var> until the condition <var class="Arg">bool-expr</var> evaluates to <code class="keyw">true</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">First <var class="Arg">statements</var> are executed. Then <var class="Arg">bool-expr</var> is evaluated. If it evaluates to <code class="keyw">true</code> the <code class="keyw">repeat</code> loop terminates and the statement immediately following the <code class="keyw">repeat</code> loop is executed next. Otherwise if it evaluates to <code class="keyw">false</code> the whole process begins again with the execution of the <var class="Arg">statements</var>.</p><p xmlns="http://www.w3.org/1999/xhtml">The difference between the <code class="keyw">while</code> loop (see <a shape="rect" href="chap4_mj.html#X87AA46408783383F"><span class="RefLink">4.18</span></a>) and the <code class="keyw">repeat</code> <code class="keyw">until</code> loop is that the <var class="Arg">statements</var> in the <code class="keyw">repeat</code> <code class="keyw">until</code> loop are executed at least once, while the <var class="Arg">statements</var> in the <code class="keyw">while</code> loop are not executed at all if <var class="Arg">bool-expr</var> is <code class="keyw">false</code> at the first iteration.</p><p xmlns="http://www.w3.org/1999/xhtml">If <var class="Arg">bool-expr</var> does not evaluate to <code class="keyw">true</code> or <code class="keyw">false</code> an error is signalled and a break loop (see <a shape="rect" href="chap6_mj.html#X8593B49F8705B486"><span class="RefLink">6.4</span></a>) is entered. As usual you can leave the break loop with <code class="code">quit;</code>. If you enter <code class="code">return true;</code>, execution continues with the next statement immediately following the <code class="keyw">repeat</code> loop. If you enter <code class="code">return false;</code>, execution continues at <var class="Arg">statements</var>, after which the next evaluation of <var class="Arg">bool-expr</var> may cause another error.</p><p xmlns="http://www.w3.org/1999/xhtml">The <code class="keyw">repeat</code> loop in the following example has the same purpose as the <code class="keyw">while</code> loop in the preceding example, namely to sum up the squares <math id="5834199853745502057" display="inline" alttext="1^{2},2^{2},\ldots" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.8.1.cmml" id="p1.1.m1.1.8">
      <msup xref="p1.1.m1.1.8.1.cmml" id="p1.1.m1.1.8.2">
        <mn xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">1</mn>
        <mn xref="p1.1.m1.1.2.1.cmml" id="p1.1.m1.1.2.1">2</mn>
      </msup>
      <mo id="p1.1.m1.1.3">,</mo>
      <msup xref="p1.1.m1.1.8.1.cmml" id="p1.1.m1.1.8.3">
        <mn xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">2</mn>
        <mn xref="p1.1.m1.1.5.1.cmml" id="p1.1.m1.1.5.1">2</mn>
      </msup>
      <mo id="p1.1.m1.1.6">,</mo>
      <mi xref="p1.1.m1.1.7.cmml" id="p1.1.m1.1.7" mathvariant="normal">…</mi>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <list xref="p1.1.m1.1.8" id="p1.1.m1.1.8.1.cmml">
        <apply xref="p1.1.m1.1.8" id="p1.1.m1.1.8.2.cmml">
          <csymbol id="p1.1.m1.1.8.2.1.cmml" cd="ambiguous">superscript</csymbol>
          <cn xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml" type="integer">1</cn>
          <cn xref="p1.1.m1.1.2.1" id="p1.1.m1.1.2.1.cmml" type="integer">2</cn>
        </apply>
        <apply xref="p1.1.m1.1.8" id="p1.1.m1.1.8.3.cmml">
          <csymbol id="p1.1.m1.1.8.3.1.cmml" cd="ambiguous">superscript</csymbol>
          <cn xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml" type="integer">2</cn>
          <cn xref="p1.1.m1.1.5.1" id="p1.1.m1.1.5.1.cmml" type="integer">2</cn>
        </apply>
        <ci xref="p1.1.m1.1.7" id="p1.1.m1.1.7.cmml">…</ci>
      </list>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">1^{2},2^{2},\ldots</annotation>
  </semantics>
</math> until the sum exceeds <math id="-1889962852976732058" display="inline" alttext="200" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mn xref="p1.1.m1.1.3.cmml" id="p1.1.m1.1.3">200</mn>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <cn xref="p1.1.m1.1.3" id="p1.1.m1.1.3.cmml" type="integer">200</cn>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">200</annotation>
  </semantics>
</math>.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">i := 0;; s := 0;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">repeat</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">   i := i + 1; s := s + i^2;</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> until s &gt; 200;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s;</span>
204
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">A <code class="keyw">repeat</code> loop may be left prematurely using <code class="keyw">break</code>, see <a shape="rect" href="chap4_mj.html#X7B60C6127E183021"><span class="RefLink">4.21</span></a>.</p> </body>
    </html>