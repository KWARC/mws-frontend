<html> 
      <head>
        <title>GAP (ref) - Chapter 85: Function-Operation-Attribute Triples-&gt;85.3-3 Example: Orbit and OrbitOp</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap85.html#X834E92F07DD0BF04"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">85.3-3 <span class="Heading">Example: Orbit and OrbitOp</span></h5><p xmlns="http://www.w3.org/1999/xhtml">For example, to setup the function <code class="func">Orbit</code> (<a shape="rect" href="chap41_mj.html#X80E0234E7BD79409"><span class="RefLink">41.4-1</span></a>) and its operation <code class="code">OrbitOp</code>, the declaration file <code class="file">lib/oprt.gd</code> contains the following line of code:</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
OrbitishFO( &quot;Orbit&quot;, OrbitishReq, IsCollsElms, false, false );
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">The variable <code class="code">OrbitishReq</code> contains the standard requirements</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
OrbitishReq  := [ IsGroup, IsList, IsObject,
    IsList,
    IsList,
    IsFunction ];
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">which are usually entered in calls to <code class="func">OrbitishFO</code> (<a shape="rect" href="chap85_mj.html#X7B23C48482ADB237"><span class="RefLink">85.3-2</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">The relation test via <var class="Arg">famrel</var> is used to provide a uniform construction of the wrapper functions created by <code class="func">OrbitishFO</code> (<a shape="rect" href="chap85_mj.html#X7B23C48482ADB237"><span class="RefLink">85.3-2</span></a>), in spite of the different syntax of the specific functions. For example, <code class="func">Orbit</code> (<a shape="rect" href="chap41_mj.html#X80E0234E7BD79409"><span class="RefLink">41.4-1</span></a>) admits the calls <code class="code">Orbit( <var class="Arg">G</var>, <var class="Arg">D</var>, <var class="Arg">pnt</var>, <var class="Arg">opr</var> )</code> and <code class="code">Orbit( <var class="Arg">G</var>, <var class="Arg">pnt</var>, <var class="Arg">opr</var> )</code>, i.e., the second argument <var class="Arg">D</var> may be omitted; <code class="func">Blocks</code> (<a shape="rect" href="chap41_mj.html#X84FE699F85371643"><span class="RefLink">41.11-1</span></a>) admits the calls <code class="code">Blocks( <var class="Arg">G</var>, <var class="Arg">D</var>, <var class="Arg">seed</var>, <var class="Arg">opr</var> )</code> and <code class="code">Blocks( <var class="Arg">G</var>, <var class="Arg">D</var>, <var class="Arg">opr</var> )</code>, i.e., the third argument may be omitted. The translation to the appropriate call of <code class="code">OrbitOp</code> or <code class="code">BlocksOp</code>, for either operation with five or six arguments, is handled via <var class="Arg">famrel</var>.</p><p xmlns="http://www.w3.org/1999/xhtml">As a consequence, there must not only be methods for <code class="code">OrbitOp</code> with the six arguments corresponding to <code class="code">OrbitishReq</code>, but also methods for only five arguments (i.e., without <var class="Arg">D</var>). Plenty of examples are contained in the implementation file <code class="file">lib/oprt.gi</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">In order to handle a few special cases (currently <code class="func">Blocks</code> (<a shape="rect" href="chap41_mj.html#X84FE699F85371643"><span class="RefLink">41.11-1</span></a>) and <code class="func">MaximalBlocks</code> (<a shape="rect" href="chap41_mj.html#X79936EB97AAD1144"><span class="RefLink">41.11-2</span></a>)), also the following form of <code class="func">OrbitishFO</code> (<a shape="rect" href="chap85_mj.html#X7B23C48482ADB237"><span class="RefLink">85.3-2</span></a>) is supported.</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">OrbitishFO( <var class="Arg">name</var>, <var class="Arg">reqs</var>, <var class="Arg">famrel</var>, <var class="Arg">attr</var> )</code></p><p xmlns="http://www.w3.org/1999/xhtml">The functions in question depend upon an argument <var class="Arg">seed</var>, so they cannot be regarded as attributes. However, they are most often called without giving <var class="Arg">seed</var>, meaning &quot;choose any minimal resp. maximal block system&quot;. In this case, the result can be stored as the value of the attribute <var class="Arg">attr</var> that was entered as fourth argument of <code class="func">OrbitishFO</code> (<a shape="rect" href="chap85_mj.html#X7B23C48482ADB237"><span class="RefLink">85.3-2</span></a>). This attribute is considered by a call <code class="code">Blocks( <var class="Arg">G</var>, <var class="Arg">D</var>, <var class="Arg">opr</var> )</code> (i.e., without <var class="Arg">seed</var>) in the same way as <code class="func">Orbits</code> (<a shape="rect" href="chap41_mj.html#X81E0FF0587C54543"><span class="RefLink">41.4</span></a>) considers <code class="code">OrbitsAttr</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">To set this up, the declaration file <code class="file">lib/oprt.gd</code> contains the following lines:</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
DeclareAttribute( &quot;BlocksAttr&quot;, IsExternalSet );
OrbitishFO( &quot;Blocks&quot;,
    [ IsGroup, IsList, IsList,
      IsList,
      IsList,
      IsFunction ], IsIdenticalObj, BlocksAttr, true );
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">And this extraordinary FOA triple works as follows:</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s4 := Group((1,2,3,4),(1,2));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Blocks( s4, MovedPoints(s4), [1,2] );</span>
[ [ 1, 2, 3, 4 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Tester( BlocksAttr )( s4 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Blocks( s4, MovedPoints(s4) );       </span>
[ [ 1, 2, 3, 4 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Tester( BlocksAttr )( s4 );  BlocksAttr( s4 );</span>
true
[ [ 1, 2, 3, 4 ] ]
</pre></div><div class="chlinkprevnextbot" xmlns="http://www.w3.org/1999/xhtml"> <a shape="rect" href="chap0_mj.html">[Top of Book]</a>   <a shape="rect" href="chap0_mj.html#contents">[Contents]</a>    <a shape="rect" href="chap84_mj.html">[Previous Chapter]</a>    <a shape="rect" href="chap86_mj.html">[Next Chapter]</a>   </div><div class="chlinkbot" xmlns="http://www.w3.org/1999/xhtml"><span class="chlink1">Goto Chapter: </span><a shape="rect" href="chap0_mj.html">Top</a>  <a shape="rect" href="chap1_mj.html">1</a>  <a shape="rect" href="chap2_mj.html">2</a>  <a shape="rect" href="chap3_mj.html">3</a>  <a shape="rect" href="chap4_mj.html">4</a>  <a shape="rect" href="chap5_mj.html">5</a>  <a shape="rect" href="chap6_mj.html">6</a>  <a shape="rect" href="chap7_mj.html">7</a>  <a shape="rect" href="chap8_mj.html">8</a>  <a shape="rect" href="chap9_mj.html">9</a>  <a shape="rect" href="chap10_mj.html">10</a>  <a shape="rect" href="chap11_mj.html">11</a>  <a shape="rect" href="chap12_mj.html">12</a>  <a shape="rect" href="chap13_mj.html">13</a>  <a shape="rect" href="chap14_mj.html">14</a>  <a shape="rect" href="chap15_mj.html">15</a>  <a shape="rect" href="chap16_mj.html">16</a>  <a shape="rect" href="chap17_mj.html">17</a>  <a shape="rect" href="chap18_mj.html">18</a>  <a shape="rect" href="chap19_mj.html">19</a>  <a shape="rect" href="chap20_mj.html">20</a>  <a shape="rect" href="chap21_mj.html">21</a>  <a shape="rect" href="chap22_mj.html">22</a>  <a shape="rect" href="chap23_mj.html">23</a>  <a shape="rect" href="chap24_mj.html">24</a>  <a shape="rect" href="chap25_mj.html">25</a>  <a shape="rect" href="chap26_mj.html">26</a>  <a shape="rect" href="chap27_mj.html">27</a>  <a shape="rect" href="chap28_mj.html">28</a>  <a shape="rect" href="chap29_mj.html">29</a>  <a shape="rect" href="chap30_mj.html">30</a>  <a shape="rect" href="chap31_mj.html">31</a>  <a shape="rect" href="chap32_mj.html">32</a>  <a shape="rect" href="chap33_mj.html">33</a>  <a shape="rect" href="chap34_mj.html">34</a>  <a shape="rect" href="chap35_mj.html">35</a>  <a shape="rect" href="chap36_mj.html">36</a>  <a shape="rect" href="chap37_mj.html">37</a>  <a shape="rect" href="chap38_mj.html">38</a>  <a shape="rect" href="chap39_mj.html">39</a>  <a shape="rect" href="chap40_mj.html">40</a>  <a shape="rect" href="chap41_mj.html">41</a>  <a shape="rect" href="chap42_mj.html">42</a>  <a shape="rect" href="chap43_mj.html">43</a>  <a shape="rect" href="chap44_mj.html">44</a>  <a shape="rect" href="chap45_mj.html">45</a>  <a shape="rect" href="chap46_mj.html">46</a>  <a shape="rect" href="chap47_mj.html">47</a>  <a shape="rect" href="chap48_mj.html">48</a>  <a shape="rect" href="chap49_mj.html">49</a>  <a shape="rect" href="chap50_mj.html">50</a>  <a shape="rect" href="chap51_mj.html">51</a>  <a shape="rect" href="chap52_mj.html">52</a>  <a shape="rect" href="chap53_mj.html">53</a>  <a shape="rect" href="chap54_mj.html">54</a>  <a shape="rect" href="chap55_mj.html">55</a>  <a shape="rect" href="chap56_mj.html">56</a>  <a shape="rect" href="chap57_mj.html">57</a>  <a shape="rect" href="chap58_mj.html">58</a>  <a shape="rect" href="chap59_mj.html">59</a>  <a shape="rect" href="chap60_mj.html">60</a>  <a shape="rect" href="chap61_mj.html">61</a>  <a shape="rect" href="chap62_mj.html">62</a>  <a shape="rect" href="chap63_mj.html">63</a>  <a shape="rect" href="chap64_mj.html">64</a>  <a shape="rect" href="chap65_mj.html">65</a>  <a shape="rect" href="chap66_mj.html">66</a>  <a shape="rect" href="chap67_mj.html">67</a>  <a shape="rect" href="chap68_mj.html">68</a>  <a shape="rect" href="chap69_mj.html">69</a>  <a shape="rect" href="chap70_mj.html">70</a>  <a shape="rect" href="chap71_mj.html">71</a>  <a shape="rect" href="chap72_mj.html">72</a>  <a shape="rect" href="chap73_mj.html">73</a>  <a shape="rect" href="chap74_mj.html">74</a>  <a shape="rect" href="chap75_mj.html">75</a>  <a shape="rect" href="chap76_mj.html">76</a>  <a shape="rect" href="chap77_mj.html">77</a>  <a shape="rect" href="chap78_mj.html">78</a>  <a shape="rect" href="chap79_mj.html">79</a>  <a shape="rect" href="chap80_mj.html">80</a>  <a shape="rect" href="chap81_mj.html">81</a>  <a shape="rect" href="chap82_mj.html">82</a>  <a shape="rect" href="chap83_mj.html">83</a>  <a shape="rect" href="chap84_mj.html">84</a>  <a shape="rect" href="chap85_mj.html">85</a>  <a shape="rect" href="chap86_mj.html">86</a>  <a shape="rect" href="chap87_mj.html">87</a>  <a shape="rect" href="chapBib_mj.html">Bib</a>  <a shape="rect" href="chapInd_mj.html">Ind</a>  </div><hr xmlns="http://www.w3.org/1999/xhtml"/><p class="foot" xmlns="http://www.w3.org/1999/xhtml">generated by <a shape="rect" href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p> </body>
    </html>