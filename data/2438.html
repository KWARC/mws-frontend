<html> 
      <head>
        <title>GAP (ref) - Chapter 6: Main Loop and Break Loop &amp;#8614; 6.4-4 OnBreakMessage</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap6_mj.html#X80711C807C99C220"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">6.4-4 OnBreakMessage</h5><div class="func" xmlns="http://www.w3.org/1999/xhtml"><table width="100%" class="func"><tbody><tr><td colspan="1" rowspan="1" class="tdleft"><code class="func">â€£ OnBreakMessage</code>(  )</td><td colspan="1" rowspan="1" class="tdright">( function )</td></tr></tbody></table></div><p xmlns="http://www.w3.org/1999/xhtml">When a break loop is entered by a call to <code class="func">Error</code> (<a shape="rect" href="chap6_mj.html#X7E7AD8D87EBA1A08"><span class="RefLink">6.6-1</span></a>) the message after the &quot;<code class="code">Entering break read-eval-print loop ...</code>&quot; line is produced by the function <code class="code">OnBreakMessage</code>, which just like <code class="func">OnBreak</code> (<a shape="rect" href="chap6_mj.html#X82EBF01181C3C859"><span class="RefLink">6.4-3</span></a>) is a user-configurable global variable that is a <em>function</em> with <em>no arguments</em>.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnBreakMessage(); # By default, OnBreakMessage prints the following</span>
you can 'quit;' to quit to outer loop, or
you can 'return;' to continue
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">Perhaps you are familiar with what's possible in a break loop, and so don't need to be reminded. In this case, you might wish to do the following (the first line just makes it easy to restore the default value later).</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NormalOnBreakMessage := OnBreakMessage;; # save the default value </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnBreakMessage := function() end;        # do-nothing function</span>
function(  ) ... end
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnBreakMessage();</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnBreakMessage := NormalOnBreakMessage;; # reset</span>
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">With <code class="func">OnBreak</code> (<a shape="rect" href="chap6_mj.html#X82EBF01181C3C859"><span class="RefLink">6.4-3</span></a>) still set away from its default value, calling <code class="func">Error</code> (<a shape="rect" href="chap6_mj.html#X7E7AD8D87EBA1A08"><span class="RefLink">6.6-1</span></a>) as we did above, now produces:</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Error(&quot;!\n&quot;);</span>
Error, !
Hello
Entering break read-eval-print loop ...
<span class="GAPbrkprompt">brk&gt;</span> <span class="GAPinput">quit; # to get back to outer loop</span>
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">However, suppose you are writing a function which detects an error condition and <code class="code">OnBreakMessage</code> needs to be changed only <em>locally</em>, i.e., the instructions on how to recover from the break loop need to be specific to that function. The same idea used to define <code class="code">ErrorNoTraceBack</code> (see <code class="func">OnBreak</code> (<a shape="rect" href="chap6_mj.html#X82EBF01181C3C859"><span class="RefLink">6.4-3</span></a>)) can be adapted to achieve this. The function <code class="func">CosetTableFromGensAndRels</code> (<a shape="rect" href="chap47_mj.html#X7DE601F179E6FD09"><span class="RefLink">47.6-5</span></a>) is an example in the <strong class="pkg">GAP</strong> code where the idea is actually used.</p> </body>
    </html>