<html> 
      <head>
        <title>GAP (ref) - Chapter 38: Rewriting Systems &amp;#8614; 38.4 Rewriting in Groups and Monoids</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap38_mj.html#X7F8B7848851784DF"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">38.4 <span class="Heading">Rewriting in Groups and Monoids</span></h4><p xmlns="http://www.w3.org/1999/xhtml">One application of rewriting is to reduce words in finitely presented groups and monoids. The rewriting system still has to be built for a finitely presented monoid (using <code class="code">IsomorphismFpMonoid</code> for conversion). Rewriting then can take place for words in the underlying free monoid. (These can be obtained from monoid elements with the command <code class="code">UnderlyingElement</code>.)</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=FreeGroup(3);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rels:=[f.1*f.2^2/f.3,f.2*f.3^2/f.1,f.3*f.1^2/f.2];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=f/rels;</span>
&lt;fp group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mhom:=IsomorphismFpMonoid(g);</span>
MappingByFunction( &lt;fp group on the generators 
[ f1, f2, f3 ]&gt;, &lt;fp monoid on the generators 
[ f1, f1^-1, f2, f2^-1, f3, f3^-1 
 ]&gt;, function( x ) ... end, function( x ) ... end )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mon:=Image(mhom);</span>
&lt;fp monoid on the generators [ f1, f1^-1, f2, f2^-1, f3, f3^-1 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">k:=KnuthBendixRewritingSystem(mon);</span>
Knuth Bendix Rewriting System for Monoid( 
[ f1, f1^-1, f2, f2^-1, f3, f3^-1 ] ) with rules 
[ [ f1*f1^-1, &lt;identity ...&gt; ], [ f1^-1*f1, &lt;identity ...&gt; ], 
  [ f2*f2^-1, &lt;identity ...&gt; ], [ f2^-1*f2, &lt;identity ...&gt; ], 
  [ f3*f3^-1, &lt;identity ...&gt; ], [ f3^-1*f3, &lt;identity ...&gt; ], 
  [ f1*f2^2*f3^-1, &lt;identity ...&gt; ], [ f2*f3^2*f1^-1, &lt;identity ...&gt; ]
    , [ f3*f1^2*f2^-1, &lt;identity ...&gt; ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MakeConfluent(k);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a:=Product(GeneratorsOfMonoid(mon));</span>
f1*f1^-1*f2*f2^-1*f3*f3^-1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReducedForm(k,UnderlyingElement(a));</span>
&lt;identity ...&gt;
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">To rewrite a word in the finitely presented group, one has to convert it to a word in the monoid first, rewrite in the underlying free monoid and convert back (by forming first again an element of the fp monoid) to the finitely presented group.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r:=PseudoRandom(g);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length(r);</span>
3704
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">melm:=Image(mhom,r);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">red:=ReducedForm(k,UnderlyingElement(melm));</span>
f1^-1^3*f2^-1*f1^2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">melm:=ElementOfFpMonoid(FamilyObj(One(mon)),red);</span>
f1^-1^3*f2^-1*f1^2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gpelm:=PreImagesRepresentative(mhom,melm);</span>
f1^-3*f2^-1*f1^2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r=gpelm;</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CategoriesOfObject(red);</span>
[ &quot;IsExtLElement&quot;, &quot;IsExtRElement&quot;, &quot;IsMultiplicativeElement&quot;, 
  &quot;IsMultiplicativeElementWithOne&quot;, &quot;IsAssociativeElement&quot;, &quot;IsWord&quot; ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CategoriesOfObject(melm);</span>
[ &quot;IsExtLElement&quot;, &quot;IsExtRElement&quot;, &quot;IsMultiplicativeElement&quot;, 
  &quot;IsMultiplicativeElementWithOne&quot;, &quot;IsAssociativeElement&quot;, 
  &quot;IsElementOfFpMonoid&quot; ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CategoriesOfObject(gpelm);</span>
[ &quot;IsExtLElement&quot;, &quot;IsExtRElement&quot;, &quot;IsMultiplicativeElement&quot;, 
  &quot;IsMultiplicativeElementWithOne&quot;, &quot;IsMultiplicativeElementWithInverse&quot;, 
  &quot;IsAssociativeElement&quot;, &quot;IsElementOfFpGroup&quot; ]
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">Note, that the elements <code class="code">red</code> (free monoid) <code class="code">melm</code> (fp monoid) and <code class="code">gpelm</code> (group) differ, though they are displayed identically.</p><p xmlns="http://www.w3.org/1999/xhtml">Under Unix, it is possible to use the <strong class="pkg">kbmag</strong> package to replace the built-in rewriting by this packages efficient C implementation. You can do this (after loading the <strong class="pkg">kbmag</strong> package) by assigning the variable <code class="func">KB_REW</code> (<a shape="rect" href="chap52_mj.html#X7A3F8AE285C41D80"><span class="RefLink">52.6-2</span></a>) to <code class="code">KBMAG_REW</code>. Assignment to <code class="code">GAPKB_REW</code> reverts to the built-in implementation.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LoadPackage(&quot;kbmag&quot;);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">KB_REW:=KBMAG_REW;;</span>
</pre></div> </body>
    </html>