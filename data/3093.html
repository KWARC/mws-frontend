<html> 
      <head>
        <title>GAP (ref) - Chapter 79: Creating New Objects &amp;#8614; 79.16 External Representation</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap79_mj.html#X7EBB961E7FE1B0EB"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">79.16 <span class="Heading">External Representation</span></h4><p xmlns="http://www.w3.org/1999/xhtml">An operation is defined for elements rather than for objects in the sense that if the arguments are replaced by objects that are equal to the old arguments w.r.t. the equivalence relation &quot;<code class="code">=</code>&quot; then the result must be equal to the old result w.r.t. &quot;<code class="code">=</code>&quot;.</p><p xmlns="http://www.w3.org/1999/xhtml">But the implementation of many methods is representation dependent in the sense that certain representation dependent subobjects are accessed.</p><p xmlns="http://www.w3.org/1999/xhtml">For example, a method that implements the addition of univariate polynomials may access coefficients lists of its arguments only if they are really stored, while in the case of sparsely represented polynomials a different approach is needed.</p><p xmlns="http://www.w3.org/1999/xhtml">In spite of this, for many operations one does not want to write an own method for each possible representations of each argument, for example because none of the methods could in fact take advantage of the actually given representations of the objects. Another reason could be that one wants to install first a representation independent method, and then add specific methods as they are needed to gain more efficiency, by really exploiting the fact that the arguments have certain representations.</p><p xmlns="http://www.w3.org/1999/xhtml">For the purpose of admitting representation independent code, one can define an <em>external representation</em> of objects in a given family, install methods to compute this external representation for each representation of the objects, and then use this external representation of the objects whenever they occur.</p><p xmlns="http://www.w3.org/1999/xhtml">We cannot provide conversion functions that allow us to first convert any object in question to one particular &quot;standard representation&quot;, and then access the data in the way defined for this representation, simply because it may be impossible to choose such a &quot;standard representation&quot; uniformly for all objects in the given family.</p><p xmlns="http://www.w3.org/1999/xhtml">So the aim of an external representation of an object <var class="Arg">obj</var> is a different one, namely to describe the data from which <var class="Arg">obj</var> is composed. In particular, the external representation of <var class="Arg">obj</var> is <em>not</em> one possible (&quot;standard&quot;) representation of <var class="Arg">obj</var>, in fact the external representation of <var class="Arg">obj</var> is in general different from <var class="Arg">obj</var> w.r.t. &quot;<code class="code">=</code>&quot;, first of all because the external representation of <var class="Arg">obj</var> does in general not lie in the same family as <var class="Arg">obj</var>.</p><p xmlns="http://www.w3.org/1999/xhtml">For example the external representation of a rational function is a list of length two or three, the first entry being the zero coefficient, the second being a list describing the coefficients and monomials of the numerator, and the third, if bound, being a list describing the coefficients and monomials of the denominator. In particular, the external representation of a polynomial is a list and not a polynomial.</p><p xmlns="http://www.w3.org/1999/xhtml">The other way round, the external representation of <var class="Arg">obj</var> encodes <var class="Arg">obj</var> in such a way that from this data and the family of <var class="Arg">obj</var>, one can create an object that is equal to <var class="Arg">obj</var>. Usually the external representation of an object is a list or a record.</p><p xmlns="http://www.w3.org/1999/xhtml">Although the external representation of <var class="Arg">obj</var> is by definition independent of the actually available representations for <var class="Arg">obj</var>, it is usual that a representation of <var class="Arg">obj</var> exists for which the computation of the external representation is obtained by just &quot;unpacking&quot; <var class="Arg">obj</var>, in the sense that the desired data is stored in a component or a position of <var class="Arg">obj</var>, if <var class="Arg">obj</var> is a component object (see <a shape="rect" href="chap79_mj.html#X866E223484649E5A"><span class="RefLink">79.10</span></a>) or a positional object (see <a shape="rect" href="chap79_mj.html#X834893D07FAA6FD2"><span class="RefLink">79.11</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">To implement an external representation means to install methods for the following two operations.</p> </body>
    </html>