<html> 
      <head>
        <title>GAP (ref) - Chapter 4: The Programming Language &amp;#8614; 4.17 If</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap4_mj.html#X875000188622700D"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">4.17 <span class="Heading">If</span></h4><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">if <var class="Arg">bool-expr1</var> then <var class="Arg">statements1</var> { elif <var class="Arg">bool-expr2</var> then <var class="Arg">statements2</var> }[ else <var class="Arg">statements3</var> ] fi;</code></p><p xmlns="http://www.w3.org/1999/xhtml">The <code class="keyw">if</code> statement allows one to execute statements depending on the value of some boolean expression. The execution is done as follows.</p><p xmlns="http://www.w3.org/1999/xhtml">First the expression <var class="Arg">bool-expr1</var> following the <code class="keyw">if</code> is evaluated. If it evaluates to <code class="keyw">true</code> the statement sequence <var class="Arg">statements1</var> after the first <code class="keyw">then</code> is executed, and the execution of the <code class="keyw">if</code> statement is complete.</p><p xmlns="http://www.w3.org/1999/xhtml">Otherwise the expressions <var class="Arg">bool-expr2</var> following the <code class="keyw">elif</code> are evaluated in turn. There may be any number of <code class="keyw">elif</code> parts, possibly none at all. As soon as an expression evaluates to <code class="keyw">true</code> the corresponding statement sequence <var class="Arg">statements2</var> is executed and execution of the <code class="keyw">if</code> statement is complete.</p><p xmlns="http://www.w3.org/1999/xhtml">If the <code class="keyw">if</code> expression and all, if any, <code class="keyw">elif</code> expressions evaluate to <code class="keyw">false</code> and there is an <code class="keyw">else</code> part, which is optional, its statement sequence <var class="Arg">statements3</var> is executed and the execution of the <code class="keyw">if</code> statement is complete. If there is no <code class="keyw">else</code> part the <code class="keyw">if</code> statement is complete without executing any statement sequence.</p><p xmlns="http://www.w3.org/1999/xhtml">Since the <code class="keyw">if</code> statement is terminated by the <code class="keyw">fi</code> keyword there is no question where an <code class="keyw">else</code> part belongs, i.e., <strong class="pkg">GAP</strong> has no &quot;dangling else&quot;. In</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
if expr1 then if expr2 then stats1 else stats2 fi; fi;
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">the <code class="keyw">else</code> part belongs to the second <code class="keyw">if</code> statement, whereas in</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
if expr1 then if expr2 then stats1 fi; else stats2 fi;
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">the <code class="keyw">else</code> part belongs to the first <code class="keyw">if</code> statement.</p><p xmlns="http://www.w3.org/1999/xhtml">Since an <code class="keyw">if</code> statement is not an expression it is not possible to write</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
abs := if x &gt; 0 then x; else -x; fi;
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">which would, even if legal syntax, be meaningless, since the <code class="keyw">if</code> statement does not produce a value that could be assigned to <code class="code">abs</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">If one of the expressions <var class="Arg">bool-expr1</var>, <var class="Arg">bool-expr2</var> is evaluated and its value is neither <code class="keyw">true</code> nor <code class="keyw">false</code> an error is signalled and a break loop (see <a shape="rect" href="chap6_mj.html#X8593B49F8705B486"><span class="RefLink">6.4</span></a>) is entered. As usual you can leave the break loop with <code class="code">quit;</code>. If you enter <code class="code">return true;</code>, execution of the <code class="keyw">if</code> statement continues as if the expression whose evaluation failed had evaluated to <code class="keyw">true</code>. Likewise, if you enter <code class="code">return false;</code>, execution of the <code class="keyw">if</code> statement continues as if the expression whose evaluation failed had evaluated to <code class="keyw">false</code>.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">i := 10;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">if 0 &lt; i then</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">   s := 1;</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> elif i &lt; 0 then</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">   s := -1;</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> else</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">   s := 0;</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> fi;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s;  # the sign of i</span>
1
</pre></div> </body>
    </html>