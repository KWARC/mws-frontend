<html> 
      <head>
        <title>GAP (ref) - Chapter 28: Dictionaries and General Hash Tables-&gt;28.1 Using Dictionaries</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap28.html#X81560C4083E27955"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">28.1 <span class="Heading">Using Dictionaries</span></h4><p xmlns="http://www.w3.org/1999/xhtml">The standard way to use dictionaries is to first create a dictionary (using <code class="func">NewDictionary</code> (<a shape="rect" href="chap28_mj.html#X7E78E3E983A5C895"><span class="RefLink">28.2-1</span></a>), and then to store objects (and associated information) in it and look them up.</p><p xmlns="http://www.w3.org/1999/xhtml">For the creation of objects the user has to make a few choices: Is the dictionary only to be used to check whether objects are known already, or whether associated information is to be stored with the objects. This second case is called a <em>lookup dictionary</em> and is selected by the second parameter of <code class="func">NewDictionary</code> (<a shape="rect" href="chap28_mj.html#X7E78E3E983A5C895"><span class="RefLink">28.2-1</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">The second choice is to indicate which kind of objects are to be stored. This choice will decide the internal storage used. This kind of objects is specified by the first parameter to <code class="func">NewDictionary</code> (<a shape="rect" href="chap28_mj.html#X7E78E3E983A5C895"><span class="RefLink">28.2-1</span></a>), which is a &quot;sample&quot; object.</p><p xmlns="http://www.w3.org/1999/xhtml">In some cases however such a sample object is not specific enough. For example when storing vectors over a finite field, it would not be clear whether all vectors will be over a prime field or over a field extension. Such an issue can be resolved by indicating in an (optional) third parameter to <code class="func">NewDictionary</code> (<a shape="rect" href="chap28_mj.html#X7E78E3E983A5C895"><span class="RefLink">28.2-1</span></a>) a <em>domain</em> which has to be a collection that will contain all objects to be used with this dictionary. (Such a domain may also be used internally to decide that direct indexing can be used).</p><p xmlns="http://www.w3.org/1999/xhtml">The reason for this choice of giving two parameters is that in some cases no suitable collection of objects has been defined in <strong class="pkg">GAP</strong> - for example for permutations there is no object representing the symmetric group on infinitely many points.</p><p xmlns="http://www.w3.org/1999/xhtml">Once a dictionary has been created, it is possible to use <code class="func">RepresentationsOfObject</code> (<a shape="rect" href="chap13_mj.html#X7BBE93BE7977750F"><span class="RefLink">13.4-1</span></a>) to check which representation is used by <strong class="pkg">GAP</strong>.</p><p xmlns="http://www.w3.org/1999/xhtml">In the following example, we create a dictionary to store permutations with associated information.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d:=NewDictionary((1,2,3),true);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AddDictionary(d,(1,2),1);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AddDictionary(d,(5,6),9);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AddDictionary(d,(4,7),2);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LookupDictionary(d,(5,6));</span>
9
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LookupDictionary(d,(5,7));</span>
fail
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">A typical example of this use would be in an orbit algorithm. The dictionary would be used to store the elements known in the orbit together with their respective orbit positions.</p><p xmlns="http://www.w3.org/1999/xhtml">We observe that this dictionary is stored internally by a sorted list. On the other hand, if we have an explicit, sorted element list, direct indexing is to be used.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RepresentationsOfObject(d);</span>
[ &quot;IsComponentObjectRep&quot;, &quot;IsDictionaryDefaultRep&quot;, 
  &quot;IsListDictionary&quot;, &quot;IsListLookupDictionary&quot;, &quot;IsSortDictionary&quot;, 
  &quot;IsSortLookupDictionary&quot; ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d:=NewDictionary((1,2,3),true,Elements(SymmetricGroup(5)));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RepresentationsOfObject(d);</span>
[ &quot;IsComponentObjectRep&quot;, &quot;IsDictionaryDefaultRep&quot;, 
  &quot;IsPositionDictionary&quot;, &quot;IsPositionDictionary&quot; ]
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">(Just indicating <code class="code">SymmetricGroup(5)</code> as a third parameter would still keep the first storage method, as indexing would be too expensive if no explicit element list is known.)</p><p xmlns="http://www.w3.org/1999/xhtml">The same effect happens in the following example, in which we work with vectors: Indicating only a vector only enables sorted index, as it cannot be known whether all vectors will be defined over the prime field. On the other hand, providing the vector space (and thus limiting the domain) enables the use of hashing (which will be faster).</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">v:=GF(2)^7;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d:=NewDictionary(Zero(v),true);;                            </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RepresentationsOfObject(d);</span>
[ &quot;IsComponentObjectRep&quot;, &quot;IsDictionaryDefaultRep&quot;, 
  &quot;IsListDictionary&quot;, &quot;IsListLookupDictionary&quot;, &quot;IsSortDictionary&quot;, 
  &quot;IsSortLookupDictionary&quot; ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d:=NewDictionary(Zero(v),true,v);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RepresentationsOfObject(d);</span>
[ &quot;IsComponentObjectRep&quot;, &quot;IsDictionaryDefaultRep&quot;, 
  &quot;IsPositionDictionary&quot;, &quot;IsPositionDictionary&quot; ]
</pre></div> </body>
    </html>