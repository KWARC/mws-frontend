<html> 
      <head>
        <title>GAP (ref) - Chapter 10: Streams &amp;#8614; 10.3-5 ReadAll</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap10_mj.html#X85C603D7867430D0"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">10.3-5 ReadAll</h5><div class="func" xmlns="http://www.w3.org/1999/xhtml"><table width="100%" class="func"><tbody><tr><td colspan="1" rowspan="1" class="tdleft"><code class="func">â€£ ReadAll</code>( <var class="Arg">input-stream</var>[, <var class="Arg">limit</var>] )</td><td colspan="1" rowspan="1" class="tdright">( operation )</td></tr></tbody></table></div><p xmlns="http://www.w3.org/1999/xhtml"><code class="func">ReadAll</code> returns all characters as string from the input stream <var class="Arg">stream-in</var>. It waits (blocks) until at least one character is available from the stream, or until there is evidence that no characters will ever be available again. This last indicates that the stream is at end-of-stream. Otherwise, it reads as much input as it can from the stream without blocking further and returns it to the user. If the stream is already at end of file, so that no bytes are available, <code class="keyw">fail</code> is returned. In the case of a file stream connected to a normal file (not a pseudo-tty or named pipe or similar), all the bytes should be immediately available and this function will read the remainder of the file.</p><p xmlns="http://www.w3.org/1999/xhtml">With a second argument, at most <var class="Arg">limit</var> bytes will be returned. Depending on the stream a bounded number of additional bytes may have been read into an internal buffer.</p><p xmlns="http://www.w3.org/1999/xhtml">A default method is supplied for <code class="func">ReadAll</code> which simply calls <code class="func">ReadLine</code> (<a shape="rect" href="chap10_mj.html#X7D2CA44C7D110C4F"><span class="RefLink">10.3-4</span></a>) repeatedly. This is only really safe for streams which cannot block. Other streams should install a method for <code class="func">ReadAll</code></p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">i := InputTextString( &quot;1Hallo\nYou\n1&quot; );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadByte(i);</span>
49
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CHAR_INT(last);</span>
'1'
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadLine(i);</span>
&quot;Hallo\n&quot;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadLine(i);</span>
&quot;You\n&quot;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadLine(i);</span>
&quot;1&quot;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadLine(i);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadAll(i);</span>
&quot;&quot;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RewindStream(i);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReadAll(i);</span>
&quot;1Hallo\nYou\n1&quot;
</pre></div> </body>
    </html>