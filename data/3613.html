<html> 
      <head>
        <title>GAP (ref) - Chapter 4: The Programming Language &amp;#8614; 4.8 Variables</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap4_mj.html#X7A4C2D0E7E286B4F"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">4.8 <span class="Heading">Variables</span></h4><p xmlns="http://www.w3.org/1999/xhtml">A <em>variable</em> is a location in a <strong class="pkg">GAP</strong> program that points to a value. We say the variable is <em>bound</em> to this value. If a variable is evaluated it evaluates to this value.</p><p xmlns="http://www.w3.org/1999/xhtml">Initially an ordinary variable is not bound to any value. The variable can be bound to a value by <em>assigning</em> this value to the variable (see <a shape="rect" href="chap4_mj.html#X7E6A50307F4D3FAE"><span class="RefLink">4.15</span></a>). Because of this we sometimes say that a variable that is not bound to any value has no assigned value. Assignment is in fact the only way by which a variable, which is not an argument of a function, can be bound to a value. After a variable has been bound to a value an assignment can also be used to bind the variable to another value.</p><p xmlns="http://www.w3.org/1999/xhtml">A special class of variables is the class of <em>arguments</em> of functions. They behave similarly to other variables, except they are bound to the value of the actual arguments upon a function call (see <a shape="rect" href="chap4_mj.html#X78C70489791FDF43"><span class="RefLink">4.11</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">Each variable has a name that is also called its <em>identifier</em>. This is because in a given scope an identifier identifies a unique variable (see <a shape="rect" href="chap4_mj.html#X860313A179A5163F"><span class="RefLink">4.6</span></a>). A <em>scope</em> is a lexical part of a program text. There is the <em>global scope</em> that encloses the entire program text, and there are local scopes that range from the <code class="keyw">function</code> keyword, denoting the beginning of a function definition, to the corresponding <code class="keyw">end</code> keyword. A <em>local scope</em> introduces new variables, whose identifiers are given in the formal argument list and the <code class="keyw">local</code> declaration of the function (see <a shape="rect" href="chap4_mj.html#X815F71EA7BC0EB6F"><span class="RefLink">4.23</span></a>). Usage of an identifier in a program text refers to the variable in the innermost scope that has this identifier as its name. Because this mapping from identifiers to variables is done when the program is read, not when it is executed, <strong class="pkg">GAP</strong> is said to have <em>lexical scoping</em>. The following example shows how one identifier refers to different variables at different points in the program text.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
g := 0;      # global variable g
x := function ( a, b, c )
  local  y;
  g := c;     # c refers to argument c of function x
  y := function ( y )
    local d, e, f;
    d := y;   # y refers to argument y of function y
    e := b;   # b refers to argument b of function x
    f := g;   # g refers to global variable g
    return d + e + f;
  end;
  return y( a ); # y refers to local y of function x
end;
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">It is important to note that the concept of a variable in <strong class="pkg">GAP</strong> is quite different from the concept of a variable in most compiled programming languages.</p><p xmlns="http://www.w3.org/1999/xhtml">In those languages a variable denotes a block of memory. The value of the variable is stored in this block. So in those languages two variables can have the same value, but they can never have identical values, because they denote different blocks of memory. Note that some languages have the concept of a reference argument. It seems as if such an argument and the variable used in the actual function call have the same value, since changing the argument's value also changes the value of the variable used in the actual function call. But this is not so; the reference argument is actually a pointer to the variable used in the actual function call, and it is the compiler that inserts enough magic to make the pointer invisible. In order for this to work the compiler needs enough information to compute the amount of memory needed for each variable in a program, which is readily available in the declarations.</p><p xmlns="http://www.w3.org/1999/xhtml">In <strong class="pkg">GAP</strong> on the other hand each variable just points to a value, and different variables can share the same value.</p> </body>
    </html>