<html> 
      <head>
        <title>GAP (ref) - Chapter 12: Objects and Elements-&gt;12.6-5 Mutability of Iterators</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap12.html#X7FBA5F4D7C6872BD"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">12.6-5 <span class="Heading">Mutability of Iterators</span></h5><p xmlns="http://www.w3.org/1999/xhtml">An interesting example of mutable (and thus copyable) objects is provided by <em>iterators</em>, see <a shape="rect" href="chap30_mj.html#X85A3F00985453F95"><span class="RefLink">30.8</span></a>. (Of course an immutable form of an iterator is not very useful, but clearly <code class="func">Immutable</code> (<a shape="rect" href="chap12_mj.html#X7F0ABF2C870B0CBB"><span class="RefLink">12.6-3</span></a>) will yield such an object.) Every call of <code class="func">NextIterator</code> (<a shape="rect" href="chap30_mj.html#X879F62F77D1D1179"><span class="RefLink">30.8-5</span></a>) changes a mutable iterator until it is exhausted, and this is the only way to change an iterator. <code class="func">ShallowCopy</code> (<a shape="rect" href="chap12_mj.html#X846BC7107C352031"><span class="RefLink">12.7-1</span></a>) for an iterator <var class="Arg">iter</var> is defined so as to return a mutable iterator that has no mutable data in common with <var class="Arg">iter</var>, and that behaves equally to <var class="Arg">iter</var> w.r.t. <code class="func">IsDoneIterator</code> (<a shape="rect" href="chap30_mj.html#X8055FC557B5D899E"><span class="RefLink">30.8-4</span></a>) and (if <var class="Arg">iter</var> is mutable) <code class="func">NextIterator</code> (<a shape="rect" href="chap30_mj.html#X879F62F77D1D1179"><span class="RefLink">30.8-5</span></a>). Note that this meaning of the &quot;shallow copy&quot; of an iterator that is returned by <code class="func">ShallowCopy</code> (<a shape="rect" href="chap12_mj.html#X846BC7107C352031"><span class="RefLink">12.7-1</span></a>) is not as obvious as for lists and records, and must be explicitly defined.</p> </body>
    </html>