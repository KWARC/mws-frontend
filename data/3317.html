<html> 
      <head>
        <title>GAP (ref) - Chapter 80: Examples of Extending the System-&gt;80.4 Adding a new Operation</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap80.html#X797545848520A44B"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">80.4 <span class="Heading">Adding a new Operation</span></h4><p xmlns="http://www.w3.org/1999/xhtml">Next, we will consider how to add own operations. As an example we take the Sylow normalizer in a group of a given prime. This operation gets two arguments, the first has to be a group, the second a prime number.</p><p xmlns="http://www.w3.org/1999/xhtml">There is a function <code class="func">IsPrimeInt</code> (<a shape="rect" href="chap14_mj.html#X78FDA4437EDCA70C"><span class="RefLink">14.4-2</span></a>), but no property for being prime (which would be pointless as integers cannot store property values anyhow). So the second argument gets specified only as positive integer:</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
SylowNormalizer:=NewOperation(&quot;SylowNormalizer&quot;,[IsGroup,IsPosInt]);
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">(Note that we are using <code class="func">NewOperation</code> (<a shape="rect" href="chap79_mj.html#X85A9E019795B79D6"><span class="RefLink">79.5-1</span></a>) instead of <code class="func">DeclareOperation</code> (<a shape="rect" href="chap79_mj.html#X843F48137B899BC3"><span class="RefLink">79.18-6</span></a>) as used in the library. The only difference other than that <code class="func">DeclareOperation</code> (<a shape="rect" href="chap79_mj.html#X843F48137B899BC3"><span class="RefLink">79.18-6</span></a>) saves some typing, is that it also protects the variables against overwriting. When testing code (when one probably wants to change things) this might be restricting. If this does not bother you, you can use</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
DeclareOperation(&quot;SylowNormalizer&quot;,[IsGroup,IsPosInt]);
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">as well.)</p><p xmlns="http://www.w3.org/1999/xhtml">The filters <code class="func">IsGroup</code> (<a shape="rect" href="chap39_mj.html#X7939B3177BBD61E4"><span class="RefLink">39.2-7</span></a>) and <code class="func">IsPosInt</code> (<a shape="rect" href="chap14_mj.html#X82A854757DFA9C76"><span class="RefLink">14.2-2</span></a>) given are <em>only</em> used to test that <code class="func">InstallMethod</code> (<a shape="rect" href="chap78_mj.html#X837EFDAB7BEF290B"><span class="RefLink">78.2-1</span></a>) installs methods with suitable arguments and will be completely ignored when using <code class="func">InstallOtherMethod</code> (<a shape="rect" href="chap78_mj.html#X7D2C12DB841CE539"><span class="RefLink">78.2-2</span></a>). Technically one could therefore simply use <code class="func">IsObject</code> (<a shape="rect" href="chap12_mj.html#X7B130AC98415CAFB"><span class="RefLink">12.1-1</span></a>) for all arguments in the declaration. The main point of using more specific filters here is to help documenting with which arguments the function is to be used (so for example a call <code class="code">SylowNormalizer(5,G)</code> would be invalid).</p><p xmlns="http://www.w3.org/1999/xhtml">Of course initially there are no useful methods for newly declared operations; you will have to write and install them yourself.</p><p xmlns="http://www.w3.org/1999/xhtml">If the operation only takes one argument and has reproducible results without side effects, it might be worth declaring it as an attribute instead; see Section <a shape="rect" href="chap80_mj.html#X874AF11D864AEC1B"><span class="RefLink">80.5</span></a>.</p> </body>
    </html>