<html> 
      <head>
        <title>GAP (ref) - Chapter 3: Running GAP &amp;#8614; 3.2-4 DeclareUserPreference</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap3_mj.html#X7F1DF6757B248014"></meta>
      </head>
      <body> <h5 xmlns="http://www.w3.org/1999/xhtml">3.2-4 DeclareUserPreference</h5><div class="func" xmlns="http://www.w3.org/1999/xhtml"><table width="100%" class="func"><tbody><tr><td colspan="1" rowspan="1" class="tdleft"><code class="func">â€£ DeclareUserPreference</code>( <var class="Arg">record</var> )</td><td colspan="1" rowspan="1" class="tdright">( function )</td></tr></tbody></table></div><p xmlns="http://www.w3.org/1999/xhtml">This function can be used (also in packages) to introduce new user preferences. It declares a user preference, determines a default value and contains documentation of the user preference. After declaration a user preference will be shown with <code class="func">ShowUserPreferences</code> (<a shape="rect" href="chap3_mj.html#X7B0AD104839B6C3C"><span class="RefLink">3.2-3</span></a>) and <code class="func">WriteGapIniFile</code> (<a shape="rect" href="chap3_mj.html#X7B0AD104839B6C3C"><span class="RefLink">3.2-3</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">When this declaration is evaluated it is checked, if this user preference is already set in the current session. If not the value of the user preference is set to its default. (Do not use <code class="keyw">fail</code> as default value since this indicated that a user preference is not set.)</p><p xmlns="http://www.w3.org/1999/xhtml">The argument <var class="Arg">record</var> of <code class="func">DeclareUserPreference</code> must be a record with the following components.</p><dl xmlns="http://www.w3.org/1999/xhtml"><dt><strong class="Mark"><code class="code">name</code></strong></dt><dd><p>a string or a list of strings, the latter meaning several preferences which belong together,</p>

</dd><dt><strong class="Mark"><code class="code">description</code></strong></dt><dd><p>a list of strings describing the preference(s), one string for each paragraph; if several preferences are declared together then the description refers to all of them,</p>

</dd><dt><strong class="Mark"><code class="code">default</code></strong></dt><dd><p>the default value that is used, or a function without arguments that computes this default value; if several preferences are declared together then the value of this component must be the list of default values for the individual preferences.</p>

</dd></dl><p xmlns="http://www.w3.org/1999/xhtml">The following components of <var class="Arg">record</var> are optional.</p><dl xmlns="http://www.w3.org/1999/xhtml"><dt><strong class="Mark"><code class="code">check</code></strong></dt><dd><p>a function that takes a value as its argument and returns either <code class="keyw">true</code> or <code class="keyw">false</code>, depending on whether the given value is admissible for this preference; if several preferences are declared together then the number of arguments of the function must equal the length of the <code class="code">name</code> list,</p>

</dd><dt><strong class="Mark"><code class="code">values</code></strong></dt><dd><p>the list of admissible values, or a function without arguments that returns this list,</p>

</dd><dt><strong class="Mark"><code class="code">multi</code></strong></dt><dd><p><code class="keyw">true</code> or <code class="keyw">false</code>, depending on whether one may choose several values from the given list or just one; needed (and useful only) if the <code class="code">values</code> component is present,</p>

</dd><dt><strong class="Mark"><code class="code">package</code></strong></dt><dd><p>the name of the <strong class="pkg">GAP</strong> package to which the preference is assigned; if the declaration happens inside a file that belongs to this package then the value of this component is computed, using <code class="code">GAPInfo.PackageCurrent</code>; otherwise, the default value for <code class="code">package</code> is <code class="code">&quot;GAP&quot;</code>,</p>

</dd><dt><strong class="Mark"><code class="code">omitFromGapIniFile</code></strong></dt><dd><p>if the value is <code class="keyw">true</code> then this user preference is ignored by <code class="func">WriteGapIniFile</code> (<a shape="rect" href="chap3_mj.html#X7B0AD104839B6C3C"><span class="RefLink">3.2-3</span></a>).</p>

</dd></dl><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">UserPreference( &quot;MyFavouritePrime&quot; );</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DeclareUserPreference( rec(</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">       name:= &quot;MyFavouritePrime&quot;,</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">       description:= [ &quot;is not used, serves as an example&quot; ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">       default:= 2,</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">       omitFromGapIniFile:= true ) );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">UserPreference( &quot;MyFavouritePrime&quot; );</span>
2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetUserPreference( &quot;MyFavouritePrime&quot;, 17 );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">UserPreference( &quot;MyFavouritePrime&quot; );</span>
17
</pre></div> </body>
    </html>