<html> 
      <head>
        <title>GAP (ref) - Chapter 32: Mappings &amp;#8614; 32.14 Technical Matters Concerning General Mappings</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap32_mj.html#X7D6F78587C00CDD0"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">32.14 <span class="Heading">Technical Matters Concerning General Mappings</span></h4><p xmlns="http://www.w3.org/1999/xhtml"><code class="func">Source</code> (<a shape="rect" href="chap32_mj.html#X7DE8173F80E07AB1"><span class="RefLink">32.3-8</span></a>) and <code class="func">Range</code> (<a shape="rect" href="chap32_mj.html#X7B6FD7277CDE9FCB"><span class="RefLink">32.3-7</span></a>) are basic operations for general mappings. <code class="func">UnderlyingRelation</code> (<a shape="rect" href="chap32_mj.html#X784F871383FB599B"><span class="RefLink">32.3-9</span></a>) is secondary, its default method sets up a domain that delegates tasks to the general mapping. (Note that this allows one to handle also infinite relations by generic methods if source or range of the general mapping is finite.)</p><p xmlns="http://www.w3.org/1999/xhtml">The distinction between basic operations and secondary operations for general mappings may be a little bit complicated. Namely, each general mapping must be in one of the two categories <code class="func">IsNonSPGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X7D28581F82481163"><span class="RefLink">32.14-1</span></a>), <code class="func">IsSPGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X7D28581F82481163"><span class="RefLink">32.14-1</span></a>). (The category <code class="func">IsGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X8656AB8A7D672CAE"><span class="RefLink">32.13-1</span></a>) is defined as the disjoint union of these two.)</p><p xmlns="http://www.w3.org/1999/xhtml">For general mappings of the first category, <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) and <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>) are basic operations. (Note that in principle it is possible to delegate from <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>) to <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>).) Methods for the secondary operations <code class="func">ImageElm</code> (<a shape="rect" href="chap32_mj.html#X7CFAB0157BFB1806"><span class="RefLink">32.4-5</span></a>), <code class="func">PreImageElm</code> (<a shape="rect" href="chap32_mj.html#X7D212F727CAE971A"><span class="RefLink">32.5-3</span></a>), <code class="func">ImagesSet</code> (<a shape="rect" href="chap32_mj.html#X8781348F7F5796A0"><span class="RefLink">32.4-4</span></a>), <code class="func">PreImagesSet</code> (<a shape="rect" href="chap32_mj.html#X856BAFC87B2D2811"><span class="RefLink">32.5-5</span></a>), <code class="func">ImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X85ADB89B7C8DD7D0"><span class="RefLink">32.4-2</span></a>), and <code class="func">PreImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X7AE24A1586B7DE79"><span class="RefLink">32.5-4</span></a>) may use <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) and <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>), respectively, and methods for <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>), <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>) must <em>not</em> call the secondary operations. In particular, there are no generic methods for <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) and <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>).</p><p xmlns="http://www.w3.org/1999/xhtml">Methods for <code class="func">ImagesSet</code> (<a shape="rect" href="chap32_mj.html#X8781348F7F5796A0"><span class="RefLink">32.4-4</span></a>) and <code class="func">PreImagesSet</code> (<a shape="rect" href="chap32_mj.html#X856BAFC87B2D2811"><span class="RefLink">32.5-5</span></a>) must <em>not</em> use <code class="func">PreImagesRange</code> (<a shape="rect" href="chap32_mj.html#X78EF1FE77B0973C0"><span class="RefLink">32.5-1</span></a>) and <code class="func">ImagesSource</code> (<a shape="rect" href="chap32_mj.html#X7D23C1CE863DACD8"><span class="RefLink">32.4-1</span></a>), e.g., compute the intersection of the set in question with the preimage of the range resp. the image of the source.</p><p xmlns="http://www.w3.org/1999/xhtml">For general mappings of the second category (which means structure preserving general mappings), the situation is different. The set of preimages under a group homomorphism, for example, is either empty or can be described as a coset of the (multiplicative) kernel. So it is reasonable to have <code class="func">ImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X85ADB89B7C8DD7D0"><span class="RefLink">32.4-2</span></a>), <code class="func">PreImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X7AE24A1586B7DE79"><span class="RefLink">32.5-4</span></a>), <code class="func">KernelOfMultiplicativeGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X81A5A5CF846E5FBF"><span class="RefLink">32.9-5</span></a>), and <code class="func">CoKernelOfMultiplicativeGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X7F09B6E28080DCB4"><span class="RefLink">32.9-6</span></a>) as basic operations here, and to make <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) and <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>) secondary operations that may delegate to these.</p><p xmlns="http://www.w3.org/1999/xhtml">In order to avoid infinite recursions, we must distinguish between the two different types of mappings.</p><p xmlns="http://www.w3.org/1999/xhtml">(Note that the basic domain operations such as <code class="func">AsList</code> (<a shape="rect" href="chap30_mj.html#X8289FCCC8274C89D"><span class="RefLink">30.3-8</span></a>) for the underlying relation of a general mapping may use either <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) or <code class="func">ImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X85ADB89B7C8DD7D0"><span class="RefLink">32.4-2</span></a>) and the appropriate cokernel. Conversely, if <code class="func">AsList</code> (<a shape="rect" href="chap30_mj.html#X8289FCCC8274C89D"><span class="RefLink">30.3-8</span></a>) for the underlying relation is known then <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>) resp. <code class="func">ImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X85ADB89B7C8DD7D0"><span class="RefLink">32.4-2</span></a>) may delegate to it, the general mapping gets the property <code class="func">IsConstantTimeAccessGeneralMapping</code> (<a shape="rect" href="chap32_mj.html#X791690817E23D90C"><span class="RefLink">32.13-2</span></a>) for this; note that this is not allowed if only an enumerator of the underlying relation is known.)</p><p xmlns="http://www.w3.org/1999/xhtml">Secondary operations are <code class="func">IsInjective</code> (<a shape="rect" href="chap32_mj.html#X7F065FD7822C0A12"><span class="RefLink">32.3-4</span></a>), <code class="func">IsSingleValued</code> (<a shape="rect" href="chap32_mj.html#X86D44C8A78BF1981"><span class="RefLink">32.3-2</span></a>), <code class="func">IsSurjective</code> (<a shape="rect" href="chap32_mj.html#X784ECE847E005B8F"><span class="RefLink">32.3-5</span></a>), <code class="func">IsTotal</code> (<a shape="rect" href="chap32_mj.html#X83C7494E828CC9C8"><span class="RefLink">32.3-1</span></a>); they may use the basic operations, and must not be used by them.</p><p xmlns="http://www.w3.org/1999/xhtml">Methods for the operations <code class="func">ImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7D51184B7EE5B2CF"><span class="RefLink">32.4-3</span></a>), <code class="func">ImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X85ADB89B7C8DD7D0"><span class="RefLink">32.4-2</span></a>), <code class="func">ImagesSet</code> (<a shape="rect" href="chap32_mj.html#X8781348F7F5796A0"><span class="RefLink">32.4-4</span></a>), <code class="func">ImageElm</code> (<a shape="rect" href="chap32_mj.html#X7CFAB0157BFB1806"><span class="RefLink">32.4-5</span></a>), <code class="func">PreImagesElm</code> (<a shape="rect" href="chap32_mj.html#X7FBB830C8729E995"><span class="RefLink">32.5-2</span></a>), <code class="func">PreImagesRepresentative</code> (<a shape="rect" href="chap32_mj.html#X7AE24A1586B7DE79"><span class="RefLink">32.5-4</span></a>), <code class="func">PreImagesSet</code> (<a shape="rect" href="chap32_mj.html#X856BAFC87B2D2811"><span class="RefLink">32.5-5</span></a>), and <code class="func">PreImageElm</code> (<a shape="rect" href="chap32_mj.html#X7D212F727CAE971A"><span class="RefLink">32.5-3</span></a>) take two arguments, a general mapping <var class="Arg">map</var> and an element or collection of elements <var class="Arg">elm</var>. These methods must <em>not</em> check whether <var class="Arg">elm</var> lies in the source or the range of <var class="Arg">map</var>. In the case that <var class="Arg">elm</var> does not, <code class="keyw">fail</code> may be returned as well as any other <strong class="pkg">GAP</strong> object, and even an error message is allowed. Checks of the arguments are done only by the functions <code class="func">Image</code> (<a shape="rect" href="chap32_mj.html#X87F4D35A826599C6"><span class="RefLink">32.4-6</span></a>), <code class="func">Images</code> (<a shape="rect" href="chap32_mj.html#X86114B2E7E77488C"><span class="RefLink">32.4-7</span></a>), <code class="func">PreImage</code> (<a shape="rect" href="chap32_mj.html#X836FAEAC78B55BF4"><span class="RefLink">32.5-6</span></a>), and <code class="func">PreImages</code> (<a shape="rect" href="chap32_mj.html#X85C8590E832002EF"><span class="RefLink">32.5-7</span></a>), which then delegate to the operations listed above.</p> </body>
    </html>