<html> 
      <head>
        <title>GAP (ref) - Chapter 12: Objects and Elements &amp;#8614; 12.6 Mutability and Copyability</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap12_mj.html#X7F0C119682196D65"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">12.6 <span class="Heading">Mutability and Copyability</span></h4><p xmlns="http://www.w3.org/1999/xhtml">An object in <strong class="pkg">GAP</strong> is said to be <em>immutable</em> if its mathematical value (as defined by <math id="-3082972286616998931" display="inline" alttext="=" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mo xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">=</mo>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <eq xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml"/>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">=</annotation>
  </semantics>
</math>) does not change under any operation. More explicitly, suppose <math id="-6399400167046651033" display="inline" alttext="a" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">a</mi>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑎</ci>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">a</annotation>
  </semantics>
</math> is immutable and <math id="8927762271817901106" display="inline" alttext="O" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">O</mi>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑂</ci>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">O</annotation>
  </semantics>
</math> is some operation on <math id="3445183527667230549" display="inline" alttext="a" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">a</mi>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑎</ci>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">a</annotation>
  </semantics>
</math>, then if <math id="-7794915406988853360" display="inline" alttext="a=b" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">
      <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">a</mi>
      <mo xref="p1.1.m1.1.2.cmml" id="p1.1.m1.1.2">=</mo>
      <mi xref="p1.1.m1.1.3.cmml" id="p1.1.m1.1.3">b</mi>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml">
        <eq xref="p1.1.m1.1.2" id="p1.1.m1.1.2.cmml"/>
        <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑎</ci>
        <ci xref="p1.1.m1.1.3" id="p1.1.m1.1.3.cmml">𝑏</ci>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">a=b</annotation>
  </semantics>
</math> evaluates to <code class="keyw">true</code> before executing <math id="-4115338217911448961" display="inline" alttext="O(a)" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.5.cmml" id="p1.1.m1.1.5">
      <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">O</mi>
      <mo xref="p1.1.m1.1.5.1.cmml" id="p1.1.m1.1.5.1">⁢</mo>
      <mrow id="p1.1.m1.1.5.2">
        <mo id="p1.1.m1.1.2" stretchy="false">(</mo>
        <mi xref="p1.1.m1.1.3.cmml" id="p1.1.m1.1.3">a</mi>
        <mo id="p1.1.m1.1.4" stretchy="false">)</mo>
      </mrow>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.5" id="p1.1.m1.1.5.cmml">
        <times xref="p1.1.m1.1.5.1" id="p1.1.m1.1.5.1.cmml"/>
        <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑂</ci>
        <ci xref="p1.1.m1.1.3" id="p1.1.m1.1.3.cmml">𝑎</ci>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">O(a)</annotation>
  </semantics>
</math>, <math id="-9101886333834219703" display="inline" alttext="a=b" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">
      <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">a</mi>
      <mo xref="p1.1.m1.1.2.cmml" id="p1.1.m1.1.2">=</mo>
      <mi xref="p1.1.m1.1.3.cmml" id="p1.1.m1.1.3">b</mi>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml">
        <eq xref="p1.1.m1.1.2" id="p1.1.m1.1.2.cmml"/>
        <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑎</ci>
        <ci xref="p1.1.m1.1.3" id="p1.1.m1.1.3.cmml">𝑏</ci>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">a=b</annotation>
  </semantics>
</math> also evaluates to <code class="keyw">true</code> afterwards. (Examples for operations <math id="6228738603802165859" display="inline" alttext="O" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">O</mi>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">𝑂</ci>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">O</annotation>
  </semantics>
</math> that change mutable objects are <code class="func">Add</code> (<a shape="rect" href="chap21_mj.html#X795EC9D67E34DAB0"><span class="RefLink">21.4-2</span></a>) and <code class="func">Unbind</code> (<a shape="rect" href="chap21_mj.html#X78B72FDF7BD63C0B"><span class="RefLink">21.5-2</span></a>) which are used to change list objects, see Chapter <a shape="rect" href="chap21_mj.html#X7B256AE5780F140A"><span class="RefLink">21</span></a>.) An immutable object <em>may</em> change, for example to store new information, or to adopt a more efficient representation, but this does not affect its behaviour under <math id="-5294108796326450294" display="inline" alttext="=" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mo xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">=</mo>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <eq xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml"/>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">=</annotation>
  </semantics>
</math>.</p><p xmlns="http://www.w3.org/1999/xhtml">There are two points here to note. Firstly, &quot;operation&quot; above refers to the functions and methods which can legitimately be applied to the object, and not the <code class="code">!.</code> operation whereby virtually any aspect of any <strong class="pkg">GAP</strong> level object may be changed. The second point which follows from this, is that when implementing new types of objects, it is the programmer's responsibility to ensure that the functions and methods they write never change immutable objects mathematically.</p><p xmlns="http://www.w3.org/1999/xhtml">In fact, most objects with which one deals in <strong class="pkg">GAP</strong> are immutable. For instance, the permutation <code class="code">(1,2)</code> will never become a different permutation or a non-permutation (although a variable which previously had <code class="code">(1,2)</code> stored in it may subsequently have some other value).</p><p xmlns="http://www.w3.org/1999/xhtml">For many purposes, however, <em>mutable</em> objects are useful. These objects may be changed to represent different mathematical objects during their life. For example, mutable lists can be changed by assigning values to positions or by unbinding values at certain positions. Similarly, one can assign values to components of a mutable record, or unbind them.</p> </body>
    </html>